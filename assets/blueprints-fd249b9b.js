import{d as B,n as $,p as O,q as S,r as F,b as D,o as M,c as P,e as s,w as n,f as d,g as m,h as i,F as j,B as p,m as x,N as I,s as U,v as V}from"./index-4ea20c40.js";import{_ as k}from"./ItemList.vue_vue_type_script_setup_true_lang-6a7dced5.js";import{a as A,_ as E}from"./DataTable-ff2c686d.js";import{N as H}from"./headers-93aa5d29.js";import{_ as L}from"./Button-8586155c.js";import{_ as q}from"./Card-a9f6c87c.js";function R(r){if(r===0)return"0ms";if(r<0)throw new Error("millisecondsToTime: duration must be a positive number");const f=r%1e3,_=Math.floor(r/1e3%60),h=Math.floor(r/(1e3*60)%60),g=Math.floor(r/(1e3*60*60)%24),o=Math.floor(r/(1e3*60*60*24)%365),y=`${f}ms`,b=`${_}s`,t=`${h}m`,e=`${g}h`;return[`${o}d`,e,t,b,y].filter(a=>a[0]!=="0").join(" ")}const z={class:"space-y-6"},G={class:"grid items-center gap-12 grid-cols-[360px_120px_120px]"},J=m("div",null,"Only show items which you can afford to produce.",-1),K=m("div",null,"Only show items which you are currently producing.",-1),te=B({__name:"blueprints",setup(r){const f=$(),_=O(),{canAfford:h}=S(),g=[{title:"Name",key:"name",width:240,defaultSortOrder:"ascend",sorter:(t,e)=>t.name.localeCompare(e.name)},{title:"Description",key:"description",width:320},{title:"Input",key:"input",width:160,render(t){const e=p[t.id];return e.cost?x(k,{energy:e.cost.energy,money:e.cost.money,items:e.cost.items?Object.values(e.cost.items):[]}):null}},{title:"Output",key:"output",width:240,render(t){const e=p[t.id];return x(k,{items:Object.values(e.items)})}},{title:"Production Time",key:"productionTime",className:"font-mono",width:120}],o=F({affordable:!1,producing:!1,search:""}),y=D(()=>{let t=f.blueprints.map(e=>{const{name:l,description:u,productionTime:a}=p[e];return{id:e,name:l,description:u,productionTime:R(a)}});return o.affordable&&(t=t.filter(e=>h(p[e.id].cost))),o.producing&&(t=t.filter(e=>_.isProducing(e.id))),o.search&&(t=t.filter(e=>e.name.toLowerCase().includes(o.search.toLowerCase()))),t});function b(){o.affordable=!1,o.producing=!1,o.search=""}return(t,e)=>{const l=H,u=I,a=U,N=A,T=V,v=L,w=q,C=E;return M(),P(j,null,[s(l,null,{default:n(()=>[d("Blueprints")]),_:1}),m("div",z,[s(w,{title:"Filter"},{action:n(()=>[s(v,{secondary:"",onClick:e[3]||(e[3]=c=>b())},{default:n(()=>[d(" Reset Filters ")]),_:1})]),default:n(()=>[m("div",G,[s(a,{value:i(o).search,"onUpdate:value":e[0]||(e[0]=c=>i(o).search=c),placeholder:"Search"},{prefix:n(()=>[s(u,{class:"ico-mdi-magnify"})]),_:1},8,["value"]),s(T,{trigger:"hover"},{trigger:n(()=>[s(N,{checked:i(o).affordable,"onUpdate:checked":e[1]||(e[1]=c=>i(o).affordable=c)},{default:n(()=>[d(" Affordable ")]),_:1},8,["checked"])]),default:n(()=>[J]),_:1}),s(T,{trigger:"hover"},{trigger:n(()=>[s(N,{checked:i(o).producing,"onUpdate:checked":e[2]||(e[2]=c=>i(o).producing=c)},{default:n(()=>[d(" Producing ")]),_:1},8,["checked"])]),default:n(()=>[K]),_:1})])]),_:1}),s(C,{columns:g,data:i(y),"single-line":!1,"table-layout":"fixed"},null,8,["data"])])],64)}}});export{te as default};

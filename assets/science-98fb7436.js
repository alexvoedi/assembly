import{d as p,i as f,j as g,u as _,k as h,b as y,o as x,c as v,e as c,w as N,f as S,h as k,F as $,l as t,I as E,N as w,S as C}from"./index-e18e9f46.js";import{_ as I}from"./ProgressIndicator.vue_vue_type_script_setup_true_lang-9b5f7419.js";import{_ as b}from"./BaseTableButton.vue_vue_type_script_setup_true_lang-0192d651.js";import{u as P}from"./use-message-f0946a2f.js";import{N as R}from"./headers-3ba9253e.js";import{_ as T}from"./DataTable-83673581.js";import"./Button-e4e419d1.js";import"./index-567e13ca.js";const O=p({__name:"science",setup(j){const o=f(),i=g(),a=_(),m=h(),l=P(),d=[{title:"Name",key:"name"},{title:"Description",key:"description"},{title:"Cost",key:"cost",render(e){if(!e.cost)return t("div");const s=[];return e.cost.items&&s.push(t("div",{},Object.values(e.cost.items).map(r=>t("div",{class:["flex items-center",a.hasItem(r.id)?"text-green":"text-red"]},`${r.quantity} ${E[r.id].name}`)))),e.cost.energy&&s.push(t("div",{class:["flex items-center gap-1",i.hasEnoughEnergy(e.cost.energy)?"text-green":"text-red"]},[t("span",{},`${e.cost.energy}`),t(w,{class:"ico-mdi-flash"})])),e.cost.money&&s.push(t("div",{class:["flex items-center",a.hasEnoughMoney(e.cost.money)?"text-green":"text-red"]},`${e.cost.money} $`)),t("div",{class:"font-mono"},s)}},{title:"Progress",key:"progress",width:90,render(e){if(!o.researching[e.id])return t("div");const r=m.value.getTime(),n=o.getResearchProgress(e.id,r);return t(I,{progress:n})}},{title:"Actions",key:"actions",render(e){const s=o.isResearching(e.id);return t(b,{iconClass:[s?"ico-mdi-pause":"ico-mdi-play",s?"text-red":"text-green"],onClick:s?()=>o.stopResearch(e.id):()=>{try{o.startResearch(e.id)}catch(r){r instanceof Error&&l.error(r.message)}}})}}],u=y(()=>o.researchable.map(e=>({...C[e]})));return(e,s)=>{const r=R,n=T;return x(),v($,null,[c(r,null,{default:N(()=>[S("Science")]),_:1}),c(n,{columns:d,data:k(u)},null,8,["data"])],64)}}});export{O as default};

import{d as C,b as q,o as r,c as l,F as m,r as $,g as t,t as c,n as y,h as i,U as u,m as v,I as N,p as A,q as E,s as F,v as V,e as p,w as g,f as h,B as f,l as B}from"./index-ed3d5f29.js";import{a as I,_ as L}from"./DataTable-b87018e5.js";import{N as M}from"./headers-d6632c7f.js";import{_ as O}from"./Button-abdba877.js";import"./index-567e13ca.js";const T={class:"justify-self-start"},H={class:"flex items-center gap-1 justify-self-end"},z={key:0},K={key:1},R={key:0,class:"justify-self-start"},G=t("div",null,null,-1),J={class:"flex items-center gap-1 justify-self-end"},Q=t("div",null,null,-1),W=t("div",null,null,-1),X={class:"flex items-center gap-1 justify-self-end"},Y=t("div",null,null,-1),j=C({__name:"ItemList",props:{energy:{},money:{},items:{}},setup(w){const b=w;function d(n){switch(n){case u.Kilogram:return"ico-mdi-weight-kilogram text-yellow-800";case u.Liter:return"ico-mdi-water text-blue";case u.Piece:return"ico-mdi-cube-outline text-green";case u.Energy:return"ico-mdi-flash text-yellow-300";case u.Money:return"ico-ic-baseline-attach-money text-green-700";default:throw new Error(`Unknown unit: ${n}`)}}const k=q(()=>b.items.some(n=>n.probability));return(n,a)=>(r(),l("div",{class:y(["font-mono grid gap-x-4 gap-y-1",[i(k)?"grid-cols-[auto_120px_48px]":"grid-cols-[auto_120px]"]])},[(r(!0),l(m,null,$(n.items,s=>(r(),l(m,{key:s.id},[t("div",T,c(i(N)[s.id].name),1),t("div",H,[Array.isArray(s.quantity)?(r(),l("span",z,c(s.quantity[0])+"-"+c(s.quantity[1]),1)):(r(),l("span",K,c(s.quantity),1)),t("span",{class:y(d(i(N)[s.id].unit.measurement))},null,2)]),s.probability?(r(),l("div",R,c(100*s.probability)+"% ",1)):v("",!0)],64))),128)),n.energy?(r(),l(m,{key:0},[G,t("div",J,[t("span",null,c(n.energy),1),t("span",{class:y(d(i(u).Energy))},null,2)]),Q],64)):v("",!0),n.money?(r(),l(m,{key:1},[W,t("div",X,[t("span",null,c(n.money),1),t("span",{class:y(d(i(u).Money))},null,2)]),Y],64)):v("",!0)],2))}}),Z={class:"space-y-6"},ie=C({__name:"blueprints",setup(w){const b=A(),d=E(),{canAfford:k}=F(),n=[{title:"Name",key:"name",width:240},{title:"Description",key:"description",width:360},{title:"Input",key:"input",width:280,render(o){const e=f[o.id];return e.cost?B(j,{energy:e.cost.energy,money:e.cost.money,items:e.cost.items?Object.values(e.cost.items):[]}):null}},{title:"Output",key:"output",width:280,render(o){const e=f[o.id];return B(j,{items:Object.values(e.items)})}}],a=V({affordable:!1,producing:!1}),s=q(()=>{let o=b.blueprints.map(e=>({id:e,name:f[e].name,description:f[e].description}));return a.affordable&&(o=o.filter(e=>k(f[e.id].cost))),a.producing&&(o=o.filter(e=>d.isProducing(e.id))),o});function D(){a.affordable=!1,a.producing=!1}return(o,e)=>{const P=M,x=I,S=O,U=L;return r(),l(m,null,[p(P,null,{default:g(()=>[h("Blueprints")]),_:1}),t("div",Z,[t("div",null,[p(x,{checked:i(a).affordable,"onUpdate:checked":e[0]||(e[0]=_=>i(a).affordable=_)},{default:g(()=>[h(" Affordable ")]),_:1},8,["checked"]),p(x,{checked:i(a).producing,"onUpdate:checked":e[1]||(e[1]=_=>i(a).producing=_)},{default:g(()=>[h(" Producing ")]),_:1},8,["checked"]),p(S,{onClick:e[2]||(e[2]=_=>D())},{default:g(()=>[h(" Reset Filters ")]),_:1})]),p(U,{columns:n,data:i(s),"single-line":!1},null,8,["data"])])],64)}}});export{ie as default};
